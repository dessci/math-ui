// http://www.materialpalette.com/teal/indigo
$primary-color: #009688;
$light-primary-color: #b2dfdb;
$primary-text: #212121;
$accent-color: #536dfe;

$item-focus-border: $primary-color;
$item-hover-border: $light-primary-color;
$item-padding: 2px;
$item-bg: #f8f8f8;
$focus-menu-padding: 3px;
$focus-border-width: 2px;
$focus-border-radius: 3px;

.math-ui .nav-pills > li > a {
    padding: 0 15px;
    text-align: left;
}

math-item {
    position: relative;
    border: $focus-border-width solid transparent;
    border-radius: $focus-border-radius;
    padding: $item-padding;
    margin: -($focus-border-width + $item-padding);
    outline: none;
    cursor: pointer;
    white-space: nowrap;

    &:hover, &.active {
        background-color: $item-bg;
        box-shadow: $focus-border-width $focus-border-width 1px rgba(0, 0, 0, 0.8);
    }
    &:hover {
        border-color: $item-hover-border;
    }
    &.active {
        border-color: $item-focus-border;
    }
}

@mixin panel {
    background-color: $item-bg;
    box-shadow: $focus-border-width $focus-border-width 1px rgba(0, 0, 0, 0.8);
    border: $focus-border-width solid $item-focus-border;
    border-radius: $focus-border-radius;
    padding: $focus-menu-padding;
    z-index: 1;
    color: $primary-text;
}

.math-ui.panel {
    @include panel;
    position: absolute;
}

.math-ui.item-zoom {
    @include panel;
    position: absolute;
    font-size: 200%;
    left: 0.2em;
    top: 0.2em;

    math-item {
        display: inline-block;
        border: none;
        padding: 0;
        margin: 0;
        box-shadow: none;
    }
}

.math-ui.focus-menu {
    @include panel;
    position: absolute;
    left: 8px;
    top: 100%;

    .eraser {
        position: absolute;
        left: 0;
        top: -$focus-border-width - 1px;
        width: 100%;
        max-width: 100%;
        height: $focus-border-width + $focus-menu-padding;
        background-color: $item-bg;
    }

    .eqn-name {
        font-weight: 700;
    }

    .top {
        & > span {
            padding: $focus-menu-padding;
            &.icon:hover {
                color: $primary-color;
            }
        }
    }

}

$delay: 0.2s;
$barWidth: 200px;
$barPadding: 15px;
$barMargin: 2px;
$barHeaderHeight: 36px;

#math-ui-bar {
    display: block;
    position: fixed;
    top: $barMargin;
    bottom: $barMargin;
    right: -($barWidth + 2*$barMargin);
    width: $barWidth;
    overflow: auto;
    -webkit-box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
    -moz-box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
    -moz-transition: right $delay;
    -webkit-transition: right $delay;
    -ms-transition: right $delay;
    -o-transition: right $delay;
    transition: right $delay;
    & > .panel {
        margin-bottom: 0;
    }
}

body.math-ui-show {
    #math-ui-bar {
        right: 2*$barMargin;
    }
}

@media (min-width: 3*$barWidth) {

    html, body {
        overflow: hidden;
    }

    #main {
        position: fixed;
        left: 0;
        top: 0;
        right: 0;
        height: 100%;
        overflow: auto;
    }

    #math-ui-bar {
        display: none;
    }

    body.math-ui-show {
        #main {
            right: $barWidth + 2*$barMargin;
        }

        #math-ui-bar {
            display: block;
            position: fixed;
            right: $barMargin;
            overflow: hidden;

            & > .panel {
                & > .panel-heading, & > .panel-body {
                    position: fixed;
                    right: $barMargin;
                    width: $barWidth;
                }
                & > .panel-heading {
                    top: $barMargin;
                    height: 36px;
                    overflow: hidden;
                }
                & > .panel-body {
                    top: $barHeaderHeight + $barMargin;
                    bottom: $barMargin;
                    overflow: auto;
                }
            }
        }

    }
}
